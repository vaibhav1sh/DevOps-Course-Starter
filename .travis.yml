script:
- echo "hello world"
- docker build --target development --tag todo-app:dev .
- docker build --target production --tag todo-app:prod .
- docker build --target test --tag todo-app:test .
- docker run todo-app:test tests/test_viewmodel.py
- docker run --env-file .env.test todo-app:test tests/test_app.py
- docker run --env TRELLO_BOARD_NAME_CREATE=${TRELLO_BOARD_NAME_CREATE} todo-app:test tests/test_trello_api_calls.py
- docker run todo-app:test tests_e2e/test_e2e.py
env:
  global:
  - secure: Xbxyvf+7KEM1g933Dljkr8T2V0nZ5nT5xfHvTK4ECt5KZ7TRWxbo22MgByqh/QPunutsgclo5EXOPaq47KykgkhdibcMf9K9LVxHnpFqgylRf07nWoyzN/aY1CbOk1jv+SwwAmqxDSYXdobB8jodsf2t7mFllimyMIP9/cv4QFJ6xsWJehhyH/RBF64RlWaSo5hiq3l3Yt9zv4y1Ar2c03HOB7bDv5W6wzFQmwMSorLGlqJbn+7jSzGhaTs0TmcnDi3jFdw9fk6EZWwyJHxechMvHpd9i3gGM6Z8JbDv+Zp6rA8zqngUwNNqySaNWK6hdghyLx6kXU3FN6BlQ2DOlnNrw+sKwnsYUfY5SdOcJSFcm/KPStFPmSA/BBWiTMraa05JxP4x8XFWBqzvEHRw5gK7q9v+/FIfePe1YExCBuWtlKaKelkRfaaxwHBwrKB7g+fTmqs7P4JOCBrDy/IY2h0onfubwe/5XoV3GdRvsqCQ0VYmq3lsPvQalEzvgFvkGypdNeuAPJYBMO+pzjmhtei9cltZpIjH8ewqhi1fMVX+6E2W545Scl7U7AMbsjaDHrV6JOixTecxgtCGnBL/qDnw4RHjrODQSBnrasLCOvvuCuDmEe4VZQoKzSRJoxG67BnLXiPEmA1K7HJYi0+vVElr6494gEWfS6VJWeSkn1I=
  - secure: vS1lgipdR/Qr5K2eYlezXA4Wd1gZ5JSgMmeaH6HoW0THte0HnGLp/ZZey+Y09WC12Wb0wQuJYKF9o5pFbEY9pVHEZ9Co5yC4swClG8IIZgYChNlhNXGaCUF4OV+pzjYyF6wu2CtmLOs63x+Hb7pn+SRwMfrlhqO0MNFnwG5Ljqc0X1BKbCqWJme3Y3iAPBbVIZeraY3FCcjK5s0Lyumb7/R9LDkt01294u7F4BGlWZ70rgMQngIQvELc18CIt/QXqlOUEmlDnA/zn1das1PKOHZfgcaNedCQ8E72T/9b2cdhMB19SG6wU4xyKkc4EsRsrBFeIgJdwGZw8x+JZxZ94K+HOW9JbN+mfHfvFBVoyGlw22/PgRMupQOzmQufeVpiPU55jCHfCXDMNJty3UCg8pEhvsuuxm9Jspv91QkWAyVw0h2psdQGH+lWTaGlQh0CJ5ZkTnokNLucIycunBtkL31I/sTMvG8D5AJRXaMhi9EjNshRYB9IooaQ9HyewsM8ezPGP1x4G7AjyCk0PcRMRjr26v6rsAZs7wxhWaZ+LlZxRDmptx7Zuej4ys4MYbeb/tSW4uYgh8qANHu8wdvARspVPEYOnr2a3OyXDtFodBxTY71vkh7pNlaGo73S6papIXpBvVGxun5tIHdZPzT+LHdEy/6tls9WDG6R/Iwluy8=
  - secure: vfZh8C3OzZfyGb+TGcJik+ZLLnLcGFGKPLB7VRETM6SOTuW2Vdscb64hrBRwU8C9sXNsddNBoLm5uk4QsUcSzl7iQhyES4ZZ+gU9Q0tBy9sOJ0rVrFJDuEJ158YnYAKKUb3W+pZ+baNKu45N0l/KZlr+b9hNNfA4ATCcIIcgV/LqEOmyCLxI1TOmTkk/PB7xo0DfdkWh3URyPzCZS0QIajleyXtoFrq9FMZuE29Xc1FEbyXM/XNrVjrOKHAYJMdzj/8lnHarCRwqdMUuSjGoLUeY1U6HB6fiEbmGIC9NfbpMXXu5mcc8dILyaGvvSEReyFPvxwmR7xWZFNdL8a2A501KVubkkBNpexJf+K9CHSYshNUEmLvgAZzNy7S1kIy8Mb0Oe9IlMCHNZr0zZKBWVco75vgiZ6J0wHk1oTND7wHnGJP/hnasg4Vrd78Yo0BZO99MSa6nbycmEkuJgH7GtOdvUm4Tkkr49BqKL8y/RkvPGXEF8RR8omxKo5IH48IuAvbdibmDMnBa1uCqEujqF6QlQQISB1nI+KlROue86GnUKj1T9TlyPGhzWSGcOL16Zn1tQtpzCT9v0vx8QHo1Y0Ca4Bil50FI+bEHy6hzM3jqktHWSCFi0zWJyykEsCwS5JcSsOLRPwjHLmzETyHkPKtRPbht2slhu8Ue548LxVc=
